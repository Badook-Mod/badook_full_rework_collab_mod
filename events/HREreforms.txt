namespace = HREreforms

#hostile invaders to the hre
country_event = {
	id = HREreforms.0
	title = HREreforms.0.t
	desc = HREreforms.0.d
	picture = MESOAMERICAN_GODS_eventPicture
	
	mean_time_to_happen = {
		days = 1
	}
	
	trigger = {
		NOT = {
			capital_scope = {
				OR = {
					region = north_german_region 
					region = south_german_region 
					region = italy_region 
					region = maghreb_region
				}
			}
			has_country_flag = got_ae_malus_flag
		}
		any_owned_province = {
			OR = {
				region = north_german_region 
				region = south_german_region 
				region = italy_region 
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = got_ae_malus_flag
			add_country_modifier = {
				name = eating_hre_land 
				days = 3650
			}
		}
	}
	option = {
		name = HREreforms.0.a 
		add_country_modifier = {
			name = eating_hre_land 
			days = 3650
		}
	}
}

#event to clear prev flag
country_event = {
	id = HREreforms.10
	title = HREreforms.10.t
	desc = HREreforms.10.d
	picture = MESOAMERICAN_GODS_eventPicture
	
	mean_time_to_happen = {
		days = 1
	}
	
	trigger = {	
		had_country_flag = {
			flag = got_ae_malus_flag
			days = 7300
		}
	}
	
	immediate = {
		clr_country_flag = got_ae_malus_flag
	}
	option = {
		name = HREreforms.10.a 
		add_prestige = 5
	}
}

#first reform
country_event = {
	id = HREreforms.1
	title = HREreforms.1.t
	desc = HREreforms.1.d
	picture = MESOAMERICAN_GODS_eventPicture
	is_triggered_only = yes
	
	trigger = {
		is_elector = yes
		grown_by_development = 50
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = got_first_reform_buff_flag 
		}
	}
	option = {
		name = HREreforms.1.a 
		add_country_modifier = {
			name = reform1_buff
			duration = -1  
		}
	}
}

country_event = {
	id = HREreforms.2
	title = HREreforms.2.t
	desc = HREreforms.2.d
	picture = MESOAMERICAN_GODS_eventPicture
	is_triggered_only = yes
	
	trigger = {
		is_elector = yes
		grown_by_development = 100
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = got_second_reform_buff_flag 
		}
	}
	option = {
		name = HREreforms.2.a 
		add_country_modifier = {
			name = reform2_buff
			duration = -1  
		}
	}
}

country_event = {
	id = HREreforms.3
	title = HREreforms.3.t
	desc = HREreforms.3.d
	picture = MESOAMERICAN_GODS_eventPicture
	is_triggered_only = yes
	
	trigger = {
		is_elector = yes
		grown_by_development = 150
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = got_third_reform_buff_flag 
		}
	}
	option = {
		name = HREreforms.3.a 
		add_country_modifier = {
			name = reform3_buff
			duration = -1  
		}
		if = {
			limit = {
				NOT = { government_rank = 2 }
			}
		set_government_rank = 2
		}
	}
}

country_event = {
	id = HREreforms.4
	title = HREreforms.4.t
	desc = HREreforms.4.d
	picture = MESOAMERICAN_GODS_eventPicture
	is_triggered_only = yes
	
	trigger = {
		is_elector = yes
		grown_by_development = 200
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = got_fourth_reform_buff_flag 
		}
	}
	option = {
		name = HREreforms.1.a 
		add_country_modifier = {
			name = reform4_buff
			duration = -1  
		}
		if = {
			limit = {
				NOT = { government_rank = 2 }
			}
		set_government_rank = 2
		}
	}
}

country_event = {
	id = HREreforms.5
	title = HREreforms.5.t
	desc = HREreforms.5.d
	picture = MESOAMERICAN_GODS_eventPicture
	is_triggered_only = yes
	
	trigger = {
		is_elector = yes
		grown_by_development = 250
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = got_fith_reform_buff_flag 
		}
	}
	option = {
		name = HREreforms.5.a 
		add_country_modifier = {
			name = reform5_buff
			duration = -1  
		}
		if = {
			limit = {
				NOT = { government_rank = 2 }
			}
		set_government_rank = 2
		}
	}
}

country_event = {
	id = HREreforms.6
	title = HREreforms.6.t
	desc = HREreforms.6.d
	picture = MESOAMERICAN_GODS_eventPicture
	is_triggered_only = yes
	
	trigger = {
		is_elector = yes
		grown_by_development = 350
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = got_sixth_reform_buff_flag 
		}
	}
	option = {
		name = HREreforms.5.a 
		add_country_modifier = {
			name = reform6_buff
			duration = -1  
		}
		if = {
			limit = {
				NOT = { government_rank = 2 }
			}
		set_government_rank = 2
		}
	}
}

country_event = {
	id = HREreforms.7
	title = HREreforms.7.t
	desc = HREreforms.7.d
	picture = MESOAMERICAN_GODS_eventPicture
	is_triggered_only = yes
	
	trigger = {
		grown_by_development = 450 
		has_country_flag = got_fourth_reform_buff_flag 
		has_country_flag = got_fith_reform_buff_flag 
		has_country_flag = got_sixth_reform_buff_flag 
	}
	
	immediate = {
		hidden_effect = { 
			set_global_flag = can_kill_emperor
		}
	}
	option = {
		name = HREreforms.7.a 	
		if = {
			limit = {
				tag = SWI
			}
			add_country_modifier = {
				name = "swiss_authority"
				duration = -1
			}
		}
		else_if = {
			limit = {
				OR = {
					tag = HES
					tag = WES
					tag = NED
				}
			}
			add_country_modifier = {
				name = "hesse_authority"
				duration = -1
			}
		}
		else_if = {
			limit = {
				tag = VEN
			}
			add_country_modifier = {
				name = "venice_authority"
				duration = -1
			}
		}
		else_if = {
			limit = {
				OR = {
					tag = GEN
					tag = FLO
					tag = SPI
					tag = TUS
				}
			}
			add_country_modifier = {
				name = "genoa_authority"
				duration = -1
			}
		}
		else_if = {
			limit = {
				OR = {
					tag = NAP
					tag = ITA
				}
			}
			add_country_modifier = {
				name = "italian_authority"
				duration = -1
			}
		}
		else_if = {
			limit = {
				OR = {
					tag = HAB
					tag = HUN
					tag = AHU
				}
			}
			add_country_modifier = {
				name = "habsburg_authority"
				duration = -1
			}
		}
		else_if = {
			limit = {
				OR = {
					tag = BRA
					tag = PRU
				}
			}
			add_country_modifier = {
				name = "brandenburg_authority"
				duration = -1
			}
		}
		else_if = {
			limit = {
				OR = {
					tag = DAN
					tag = HAN
				}
			}
			add_country_modifier = {
				name = "danish_authority"
				duration = -1
			}
		}
	}
}